<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>blockr.dplyr Showcase: Data Wrangling Blocks • blockr.dplyr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="blockr.dplyr Showcase: Data Wrangling Blocks">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">blockr.dplyr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/blockr-dplyr-showcase.html">Showcase</a></li>
    <li><a class="dropdown-item" href="../articles/expression-helpers.html">Expression Helpers</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/BristolMyersSquibb/blockr.dplyr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>blockr.dplyr Showcase: Data Wrangling Blocks</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/BristolMyersSquibb/blockr.dplyr/blob/main/vignettes/blockr-dplyr-showcase.Rmd" class="external-link"><code>vignettes/blockr-dplyr-showcase.Rmd</code></a></small>
      <div class="d-none name"><code>blockr-dplyr-showcase.Rmd</code></div>
    </div>

    
    
<div class="section level3">
<h3 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h3>
<p>blockr.dplyr provides interactive blocks for data wrangling. Each
block offers a user interface for a specific data transformation task.
Blocks can be connected together to create data transformation
pipelines.</p>
<p>This package includes blocks for common dplyr operations (select,
filter, arrange, mutate, summarize, join, bind) and tidyr operations
(pivot, separate, unite).</p>
<hr>
</div>
<div class="section level3">
<h3 id="select-block">Select Block<a class="anchor" aria-label="anchor" href="#select-block"></a>
</h3>
<p>The select block chooses which columns to keep in your dataset.</p>
<p>Use the column selector to pick the columns you want. You can select
multiple columns and reorder them by dragging. The order of selection
determines the column order in the output.</p>
<p>The block includes a “distinct” option. When enabled, duplicate rows
are removed from the result, keeping only unique combinations of the
selected columns.</p>
<div class="figure">
<img src="../reference/figures/select-block.png" class="r-plt" alt="Select block interface" width="100%"><p class="caption">
Select block interface
</p>
</div>
<hr>
</div>
<div class="section level3">
<h3 id="filter-block">Filter Block<a class="anchor" aria-label="anchor" href="#filter-block"></a>
</h3>
<p>The filter block filters rows by selecting values from dropdown
lists. This provides a point-and-click interface that does not require
writing expressions. Use this block when you want to visually select
which values to include or exclude, especially for categorical
columns.</p>
<p>For each filter condition, select a column from the dropdown. The
interface displays all unique values in that column. Select one or more
values to filter by. Choose between “include” mode (keep only rows with
selected values) or “exclude” mode (remove rows with selected
values).</p>
<p>Add multiple conditions using the “+ Add Condition” button. Each
condition can be combined with the previous one using AND (all
conditions must be true) or OR (at least one condition must be true)
logic. The “Preserve selection order” option maintains the order of
selected values in the output.</p>
<p>For more elaborate filter conditions using comparisons or
calculations, use the filter expression block instead.</p>
<div class="figure">
<img src="../reference/figures/filter-block.png" class="r-plt" alt="Filter block interface" width="100%"><p class="caption">
Filter block interface
</p>
</div>
<hr>
</div>
<div class="section level3">
<h3 id="filter-expression-block">Filter Expression Block<a class="anchor" aria-label="anchor" href="#filter-expression-block"></a>
</h3>
<p>The filter expression block keeps only rows that meet specific
conditions using R expressions. Use this block for more elaborate
filtering that cannot be achieved with simple value selection, such as
numeric comparisons, calculations, or complex logical conditions.</p>
<p>Supported operators include <code>&gt;</code>, <code>&lt;</code>,
<code>==</code>, <code>!=</code>, <code>&gt;=</code>, <code>&lt;=</code>
for comparisons, and <code>%in%</code> for checking membership in a set
of values. Combine multiple conditions using <code>&amp;</code> (AND) to
require all conditions to be true, or <code>|</code> (OR) to require at
least one condition to be true. The expression editor provides syntax
highlighting and validates your expressions. Examples:
<code>mpg &gt; 20</code>, <code>cyl == 4 | cyl == 6</code>,
<code>hp &gt; 100 &amp; wt &lt; 3</code>.</p>
<div class="figure">
<img src="../reference/figures/filter-expr-block.png" class="r-plt" alt="Filter expression block interface" width="100%"><p class="caption">
Filter expression block interface
</p>
</div>
<hr>
</div>
<div class="section level3">
<h3 id="arrange-block">Arrange Block<a class="anchor" aria-label="anchor" href="#arrange-block"></a>
</h3>
<p>The arrange block sorts rows by column values. Select one or more
columns to sort by, with each column having its own ascending or
descending control.</p>
<p>When sorting by multiple columns, the order matters. The first column
is the primary sort key. Rows with the same value in the first column
are then sorted by the second column, and so on. Use the drag handles to
reorder the sort columns.</p>
<p>Add columns using the “+” button and remove them using the “×”
button. Toggle between ascending and descending order for each column
independently.</p>
<div class="figure">
<img src="../reference/figures/arrange-block.png" class="r-plt" alt="Arrange block interface" width="100%"><p class="caption">
Arrange block interface
</p>
</div>
<hr>
</div>
<div class="section level3">
<h3 id="slice-block">Slice Block<a class="anchor" aria-label="anchor" href="#slice-block"></a>
</h3>
<p>The slice block selects specific rows based on different criteria.
Choose from six slice types: head (first rows), tail (last rows), min
(rows with smallest values), max (rows with largest values), sample
(random selection), or custom (specific positions).</p>
<p>For head and tail types, specify the number of rows using n (count)
or prop (proportion between 0 and 1). For min and max types, select an
order_by column and enable with_ties if you want to include all rows
with tied values. For sample type, optionally select a weight_by column
for weighted sampling and enable replace for sampling with
replacement.</p>
<p>The custom type accepts a rows expression like “1:5” or “c(1, 3, 5,
10)”. All slice types support grouping via the by parameter, which
performs the slice operation within each group separately.</p>
<div class="figure">
<img src="../reference/figures/slice-block.png" class="r-plt" alt="Slice block interface" width="100%"><p class="caption">
Slice block interface
</p>
</div>
<hr>
</div>
<div class="section level3">
<h3 id="mutate-expression-block">Mutate Expression Block<a class="anchor" aria-label="anchor" href="#mutate-expression-block"></a>
</h3>
<p>The mutate expression block creates new columns or modifies existing
ones using R expressions. Add multiple expressions, each creating or
updating a column. Each expression consists of a column name and an R
expression that calculates its value.</p>
<p>Use mathematical operators (<code>+</code>, <code>-</code>,
<code>*</code>, <code>/</code>, <code>^</code>) and functions
(<code><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt()</a></code>, <code><a href="https://rdrr.io/r/base/Log.html" class="external-link">log()</a></code>, <code><a href="https://rdrr.io/r/base/Round.html" class="external-link">round()</a></code>, etc.) in
your expressions. Reference existing columns by name. You can also use
conditional logic with <code><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse()</a></code> or
<code><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">dplyr::case_when()</a></code>.</p>
<p>Expression order matters: later expressions can reference columns
created by earlier expressions in the same mutate block. The by
parameter allows grouping, making column references operate within each
group. Add expressions with the “+ Add Expression” button and remove
them with the “×” button.</p>
<div class="figure">
<img src="../reference/figures/mutate-expr-block.png" class="r-plt" alt="Mutate expression block interface" width="100%"><p class="caption">
Mutate expression block interface
</p>
</div>
<hr>
</div>
<div class="section level3">
<h3 id="rename-block">Rename Block<a class="anchor" aria-label="anchor" href="#rename-block"></a>
</h3>
<p>The rename block changes column names. Each rename operation maps a
new name to an existing column. The interface shows the mapping as
“new_name ← old_name” with a visual arrow indicator.</p>
<p>Select the existing column from a dropdown to ensure valid column
names. Type the new name in the text field. Add multiple renames using
the “+” button to rename several columns at once. Remove a rename
operation with the “×” button.</p>
<p>The block validates that you don’t rename the same column twice and
ensures column names don’t conflict with existing names.</p>
<div class="figure">
<img src="../reference/figures/rename-block.png" class="r-plt" alt="Rename block interface" width="100%"><p class="caption">
Rename block interface
</p>
</div>
<hr>
</div>
<div class="section level3">
<h3 id="summarize-block">Summarize Block<a class="anchor" aria-label="anchor" href="#summarize-block"></a>
</h3>
<p>The summarize block calculates summary statistics using a
point-and-click interface. Each summary consists of three parts: a name
for the new column, an aggregation function selected from a dropdown,
and the column to aggregate.</p>
<p>Available aggregation functions include mean, sum, minimum, maximum,
count, count distinct, median, standard deviation, and more. Select the
function from the dropdown and the column to apply it to.</p>
<p>Use the “Columns to group by” selector to group data before
summarizing. When grouping is enabled, statistics are calculated
separately for each group. Add multiple summaries using the “+ Add
Summary” button.</p>
<p>For more complex aggregations using custom R expressions, use the
summarize expression block instead.</p>
<div class="figure">
<img src="../reference/figures/summarize-block.png" class="r-plt" alt="Summarize block interface" width="100%"><p class="caption">
Summarize block interface
</p>
</div>
<hr>
</div>
<div class="section level3">
<h3 id="summarize-expression-block">Summarize Expression Block<a class="anchor" aria-label="anchor" href="#summarize-expression-block"></a>
</h3>
<p>The summarize expression block calculates summary statistics using R
expressions. Use this block for more elaborate aggregations that require
custom expressions, such as weighted means, ratios, or functions with
specific parameters.</p>
<p>Enter expressions like <code>mean(mpg)</code>, <code>sum(hp)</code>,
<code><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">dplyr::n()</a></code>, or more complex calculations like
<code>mean(mpg, na.rm = TRUE)</code> or
<code>sum(hp) / dplyr::n()</code>. The expression editor provides syntax
highlighting and autocomplete (Ctrl+Space).</p>
<p>Use the “Columns to group by” selector to group data before
summarizing. The “Show advanced options” section provides additional
settings like the unpack option for handling functions that return data
frames.</p>
<div class="figure">
<img src="../reference/figures/summarize-expr-block.png" class="r-plt" alt="Summarize expression block interface" width="100%"><p class="caption">
Summarize expression block interface
</p>
</div>
<hr>
</div>
<div class="section level3">
<h3 id="join-block">Join Block<a class="anchor" aria-label="anchor" href="#join-block"></a>
</h3>
<p>The join block combines two datasets based on matching values in
specified columns. Select from six join types that determine which rows
are kept in the result.</p>
<p>Join types: left_join keeps all rows from the left dataset and
matching rows from the right; right_join keeps all rows from the right
dataset and matching rows from the left; inner_join keeps only rows that
match in both datasets; full_join keeps all rows from both datasets;
semi_join filters the left dataset to rows that have a match in the
right; anti_join filters the left dataset to rows that do not have a
match in the right.</p>
<p>The “Custom Column Mappings” interface supports both same-name joins
(when columns have identical names) and different-name joins (when the
matching columns have different names in each dataset). Add multiple
join keys to match on multiple columns simultaneously. Enable “Use
natural join” to automatically join on all common columns.</p>
<div class="figure">
<img src="../reference/figures/join-block.png" class="r-plt" alt="Join block interface" width="100%"><p class="caption">
Join block interface
</p>
</div>
<hr>
</div>
<div class="section level3">
<h3 id="bind-rows-block">Bind Rows Block<a class="anchor" aria-label="anchor" href="#bind-rows-block"></a>
</h3>
<p>The bind rows block stacks datasets vertically by matching column
names. Rows from each input dataset are combined into a single output
dataset.</p>
<p>Columns are matched by name. If datasets have different columns, the
result includes all columns from all datasets. Missing columns are
filled with NA values. The order of columns in the output follows the
order they appear across all input datasets.</p>
<p>The “Show advanced options” section provides the id_name option which
adds an identifier column that tracks which source dataset each row came
from. This is useful when combining data from multiple sources and you
need to maintain provenance.</p>
<div class="figure">
<img src="../reference/figures/bind-rows-block.png" class="r-plt" alt="Bind rows block interface" width="100%"><p class="caption">
Bind rows block interface
</p>
</div>
<hr>
</div>
<div class="section level3">
<h3 id="bind-columns-block">Bind Columns Block<a class="anchor" aria-label="anchor" href="#bind-columns-block"></a>
</h3>
<p>The bind columns block combines datasets side-by-side horizontally.
Columns from each input dataset are placed next to each other in the
output.</p>
<p>All input datasets must have exactly the same number of rows. The
rows are combined by position: the first row from each dataset forms the
first row of the output, the second rows form the second row of the
output, and so on.</p>
<p>If datasets have columns with the same name, they are automatically
renamed with numeric suffixes (e.g., “Sepal.Length…1”, “Sepal.Length…6”)
to avoid conflicts.</p>
<div class="figure">
<img src="../reference/figures/bind-cols-block.png" class="r-plt" alt="Bind columns block interface" width="100%"><p class="caption">
Bind columns block interface
</p>
</div>
<hr>
</div>
<div class="section level2">
<h2 id="tidyr-blocks">tidyr Blocks<a class="anchor" aria-label="anchor" href="#tidyr-blocks"></a>
</h2>
<p>The following blocks provide reshaping operations from the tidyr
package.</p>
<hr>
<div class="section level3">
<h3 id="pivot-longer-block">Pivot Longer Block<a class="anchor" aria-label="anchor" href="#pivot-longer-block"></a>
</h3>
<p>The pivot longer block reshapes data from wide to long format using
<a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">tidyr::pivot_longer()</a>.
Use this when column names represent values of a variable rather than
variables themselves.</p>
<p>Select which columns to pivot. These columns are transformed into two
new columns: one containing the original column names (names_to
parameter, default “name”) and another containing the values (values_to
parameter, default “value”). Unselected columns remain as
identifiers.</p>
<p>The “Show advanced options” section provides names_prefix (removes
common prefixes from column names) and values_drop_na (removes rows
where the value is NA). This is useful for reshaping time series data,
survey responses, or preparing data for visualization.</p>
<div class="figure">
<img src="../reference/figures/pivot-longer-block.png" class="r-plt" alt="Pivot longer block interface" width="100%"><p class="caption">
Pivot longer block interface
</p>
</div>
<hr>
</div>
<div class="section level3">
<h3 id="pivot-wider-block">Pivot Wider Block<a class="anchor" aria-label="anchor" href="#pivot-wider-block"></a>
</h3>
<p>The pivot wider block reshapes data from long to wide format using <a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">tidyr::pivot_wider()</a>.
This is the inverse of pivot longer, creating a summary table where
row-column combinations become cells.</p>
<p>Select which column contains values for new column names (names_from)
and which column contains cell values (values_from). The id_cols
parameter specifies which columns identify each row. If empty, all
columns not in names_from or values_from are used as identifiers.</p>
<p>The “Show advanced options” section provides names_prefix (adds a
prefix to new column names) and values_fill (provides a value for
missing combinations). This is useful for creating crosstabs, pivot
tables, or comparing values across categories.</p>
<div class="figure">
<img src="../reference/figures/pivot-wider-block.png" class="r-plt" alt="Pivot wider block interface" width="100%"><p class="caption">
Pivot wider block interface
</p>
</div>
<hr>
</div>
<div class="section level3">
<h3 id="separate-block">Separate Block<a class="anchor" aria-label="anchor" href="#separate-block"></a>
</h3>
<p>The separate block splits a single column into multiple columns using
<a href="https://tidyr.tidyverse.org/reference/separate.html" class="external-link">tidyr::separate()</a>.
Use this when a column contains combined values that should be in
separate columns.</p>
<p>Select the column to separate and specify the names for the new
columns (comma-separated). Enter the separator character or regular
expression that divides the values.</p>
<p>The “Show advanced options” section provides remove (whether to
remove the input column), convert (whether to convert new columns to
appropriate types), and extra/fill options for handling rows with too
many or too few pieces.</p>
<div class="figure">
<img src="../reference/figures/separate-block.png" class="r-plt" alt="Separate block interface" width="100%"><p class="caption">
Separate block interface
</p>
</div>
<hr>
</div>
<div class="section level3">
<h3 id="unite-block">Unite Block<a class="anchor" aria-label="anchor" href="#unite-block"></a>
</h3>
<p>The unite block combines multiple columns into a single column using
<a href="https://tidyr.tidyverse.org/reference/unite.html" class="external-link">tidyr::unite()</a>.
This is the inverse of separate, joining values with a separator.</p>
<p>Select the columns to unite and specify the name for the new combined
column. Enter the separator character to place between values (default
is “_“).</p>
<p>The “Show advanced options” section provides the remove option
(whether to remove the input columns after uniting) and na.rm (whether
to remove NA values before uniting).</p>
<div class="figure">
<img src="../reference/figures/unite-block.png" class="r-plt" alt="Unite block interface" width="100%"><p class="caption">
Unite block interface
</p>
</div>
<hr>
</div>
<div class="section level3">
<h3 id="building-data-pipelines">Building Data Pipelines<a class="anchor" aria-label="anchor" href="#building-data-pipelines"></a>
</h3>
<p>Blocks work together in pipelines. The output from one block becomes
the input to the next. Each block shows a preview of the data at that
stage.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Christoph Sax, Nicolas Bennett, David Granjon, Mike Page, Bristol Myers Squibb.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
